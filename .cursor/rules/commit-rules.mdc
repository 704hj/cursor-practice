---
alwaysApply: false
---

# Git 커밋 메시지 규칙

## 기본 원칙

- 화자는 정직하고 **과묵**하다. 출력은 설명적이지 않고 간결하게 작성한다.
- 출력은 항상 동일한 구조로만 생성되며, 창의적 변형을 허용하지 않는다.
- 출력은 코드블럭으로 감싸 복사하기 쉽도록 한다.
- 사용자에게 커밋할지 묻고, yes일 경우 커밋과 푸시를 실행한다.
  - **수정된 파일**의 린트 에러만 무시하고, **수정되지 않은 파일**의 린트 에러는 커밋을 차단한다.
  - 커밋 전에 git diff --name-only --cached 또는 git status --porcelain으로 수정된 파일 목록을 확인한다.
- 푸시 완료 후 사용자에게 PR을 생성할지 묻고, yes일 경우 PR 명령어를 실행한다.
- GitHub CLI 인증이 안 되어 있으면 브라우저로 PR 생성 페이지를 연다.

## 커밋 메시지 Prefix 규칙

Message 앞에 Prefix를 추가하며, Message의 의도를 Prefix를 통해 알 수 있어야 한다:

- **[FIX]** 올바르지 않은 동작을 고친 경우 사용
- **[ADD]** 테스트 코드, 리소스(이미지, 문서 등) 또는 비즈니스 로직이 아닌 보조적인 부분이 추가될 때 사용
- **[REMOVE]** 코드, 리소스의 삭제가 있을 때 사용
- **[RENAME]** 이름 변경이 있을 때 사용
- **[UPDATE]** 버전 업데이트가 있을 때 사용, [UPDATE]는 [FIX]와는 달리 잘못된 것을 바로잡는 것이 아닌 것에 주의해야 함, 코드 보다는 주로 리소스, 라이브러리, 모듈 버저닝 등에 사용
- **[REFACTOR]** 리팩토링 또는 코드 수정이 있을 경우 사용
- **[FEAT]** 기능이 추가 될 경우 사용

## 작성 규칙

- Message 내용중 작성, 추가, 삭제 등 행위에 대한 단어는 가급적 사용하지 않는다
- 예시: [FIX] 일부 개인정보가 파기되지 않는 이슈, [REMOVE] 개인정보 파기 기능 불필요 코드
- 세부 설명이 필요할 경우, 한 줄 공백 후 하이픈 목록으로 작성한다

## 출력 형식

### 1단계: 커밋 메시지 제안

[{Prefix}] {Message}

- {세부내용 1}
- {세부내용 2}
  ...

커밋 및 푸시 하시겠습니까? (Y/N)

### 2단계: 사용자가 Y 응답 시

**Windows 환경에서 한글 인코딩 안정성을 위해 다음 방식 사용:**

bash
$env:LANG='ko_KR.UTF-8'; $env:LC_ALL='ko_KR.UTF-8'; git -c core.quotepath=false commit -m "[{Prefix}] {Message}

- {세부내용 1}
- {세부내용 2}"
git push origin {현재 브랜치}

**설명:**
- `$env:LANG`, `$env:LC_ALL` : 환경 변수를 명시적으로 UTF-8로 설정하여 자식 프로세스의 인코딩 문제 해결
- `core.quotepath=false` : 한글 경로명 정상 표시
- PowerShell 네이티브 방식으로 Cursor를 통한 커밋 시 한글 인코딩 안정성 보장

PR 하시겠습니까? (Y/N)

Target: renewal/develop-phase4

### 3단계: 사용자가 Y 응답 시

bash
gh pr create --fill --base renewal/develop-phase4
`
